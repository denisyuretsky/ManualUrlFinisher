(()=>{"use strict";var e=function(e,t,n,r){return new(n||(n=Promise))((function(o,u){function m(e){try{s(r.next(e))}catch(e){u(e)}}function c(e){try{s(r.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(m,c)}s((r=r.apply(e,t||[])).next())}))};const t=t=>{t.preventDefault();const n=[];for(let e=0;e<4;e++){const t=document.getElementById(`muf-number-${e}`),r=Number(t.value),o=isNaN(r)?-1:r;n.push(o)}const r=document.getElementById("muf-url").value.trim();var o;(o={contentUrl:r,numbers:n},e(void 0,void 0,void 0,(function*(){return new Promise(((e,t)=>{chrome.storage.local.set(o,(()=>{chrome.runtime.lastError&&t(new Error(chrome.runtime.lastError.message)),e()}))}))}))).then((()=>{const e=document.getElementById("muf-status");e.textContent="Options saved.",setTimeout((function(){e.textContent=""}),750)})).catch((e=>{}))},n=()=>{((...t)=>e(void 0,[...t],void 0,(function*(e={contentUrl:"",numbers:Array(4).fill(-1),history:{}}){return new Promise(((t,n)=>{chrome.storage.local.get(e,(e=>{chrome.runtime.lastError&&n(new Error(chrome.runtime.lastError.message)),t(e)}))}))})))().then((e=>{e.numbers.forEach(((e,t)=>{document.getElementById(`muf-number-${t}`).value=e.toString()}));document.getElementById("muf-url").value=e.contentUrl})).catch((e=>{}))};document.addEventListener("DOMContentLoaded",(()=>{n();document.getElementById("muf-form").addEventListener("submit",t)}))})();